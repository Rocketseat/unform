---
title: React Select
---

[React Select](https://react-select.com/) is the coolest ReactJS custom `<select>` library.

If you're not using it, we recommend using it instead of using simple `<select>` elements as it's highly customizable and provides an incredible API as we'll se below.

> ⚠️ All examples below are using **TypeScript**, if you're not using it you can simply remove all type definitions as the `React.FC<Props>` from component definition.

## Simple select

A simple replacer for default HTML `<select>` element :)

```tsx lineNumbers=true
import React, { useRef, useEffect, useState, useCallback } from 'react';
import { useField } from '@unform/core';

import ReactSelect from 'react-select';

const Select = ({ name, className, options, isMulti, onChange, ...rest }) => {
  const selectRef = useRef(null);
  const [selected, setSelected] = useState(null);
  const { fieldName, registerField, error } = useField(name);

  useEffect(() => {
    registerField({
      name: fieldName,
      ref: selectRef.current,
      setValue: (ref, value) => {
        setSelected(options.find((option) => option.value === value) || null);
      },
      getValue: (ref) => {
        if (isMulti) {
          return selected.length ? selected.map(item => item.value) : [];
        }

        return selected?.value
      },
    });
  }, [fieldName, registerField, selected, isMulti]);

  const handleSelect = useCallback((option) => {
    setSelected(option);
  }, []);

  return (
    <>
      <ReactSelect
        classNamePrefix="react-select"
        ref={selectRef}
        value={selected}
        options={options}
        isMulti={isMulti}
        className={error ? `${className} has-error` : className}
        onChange={handleSelect}
        {...rest}
      />

      {error && <span className="error">{error}</span>}
    </>
  );
};

export default Select;
```

## Creatable

User can choose between default options or create new ones, by passing
`creatable={true}` prop.

```tsx lineNumbers=true
import React, { useRef, useEffect, useState, useCallback } from 'react';
import { useField } from '@unform/core';

import ReactSelect from 'react-select';
import Creatable from 'react-select/creatable';

const Select = ({ name, className, options, creatable, isMulti, onChange, ...rest }) => {
  const selectRef = useRef(null);
  const [selected, setSelected] = useState(null);
  const { fieldName, registerField, error } = useField(name);

  useEffect(() => {
    registerField({
      name: fieldName,
      ref: selectRef.current,
      setValue: (ref, value) => {
        setSelected(options.find((option) => option.value === value) || null);
      },
      getValue: (ref) => {
        if (isMulti) {
          return selected.length ? selected.map(item => item.value) : [];
        }

        return selected?.value
      },
    });
  }, [fieldName, registerField, selected, isMulti]);

  const handleSelect = useCallback((option) => {
    setSelected(option);
  }, []);

  /**
   * Change the ReactSelect component based on "creatable" props.
   */
  const SelectComponent = creatable ? Creatable : ReactSelect;

  return (
    <>
      <SelectComponent
        classNamePrefix="react-select"
        ref={selectRef}
        value={selected}
        options={options}
        isMulti={isMulti}
        className={error ? `${className} has-error` : className}
        onChange={handleSelect}
        {...rest}
      />

      {error && <span className="error">{error}</span>}
    </>
  );
};

export default Select;
```

## Async

Long lists of options? No problem! Use Async Select to make an asynchronous call to an API everytime user type something in the search box.

```tsx lineNumbers=true
import React, { useRef, useEffect, useState, useCallback } from 'react';

import AsyncCreatableSelect from 'react-select/async-creatable';
import Async from 'react-select/async';

import { useField } from '@unform/core';

const AsyncSelect = ({ name, creatable, className, isMulti, onChange, ...rest }) => {
  const selectRef = useRef(null);
  const [selected, setSelected] = useState(isMulti ? [] : null);
  const { fieldName, registerField, error } = useField(name);

  useEffect(() => {
    registerField({
      name: fieldName,
      ref: selectRef.current,
      setValue: (ref, value) => {
        setSelected(JSON.parse(value));
      },
      getValue: () => {
        if (isMulti) {
          return selected.length ? selected.map(item => item.value) : [];
        }

        return selected?.value || null;
      },
    });
  }, [fieldName, registerField, selected, isMulti]);

  const handleSelect = useCallback(option => {
    setSelected(option);
  }, []);

  /**
   * Change the ReactSelect component based on "creatable" props.
   */
  const Select = creatable ? AsyncCreatableSelect : Async;

  return (
    <>
      <Select
        classNamePrefix="react-select"
        ref={selectRef}
        value={selected}
        isMulti={isMulti}
        className={error ? `${className} has-error` : className}
        onChange={handleSelect}
        {...rest}
      />

      {error && <span className="error">{error}</span>}
    </>
  );
};

export default AsyncSelect;

```
